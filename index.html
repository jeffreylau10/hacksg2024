<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Mobile Number Input</title>

    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

</head>

<body class="bg-gray-100 flex items-center justify-center h-screen">

    <div class="bg-white p-6 rounded shadow-md w-full max-w-md">

        <h1 class="text-2xl font-bold mb-4 text-center">Enter your Mobile Number</h1>

        <form id="mobileForm">

            <div class="mb-4 flex items-center">

                <label for="mobile" class="block text-lg font-medium text-gray-700 mr-2">+65</label>

                <input type="tel" id="mobile" name="mobile" required class="flex-grow p-2 border border-gray-300 rounded" placeholder="e.g. 91234567">

            </div>

            <button type="submit" class="w-full bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 focus:outline-none focus:bg-blue-600">Submit</button>

        </form>

    </div>



    <script>

        $(document).ready(function(){

            var sasToken = 'YOUR_SAS_TOKEN';  // Set your SAS Token here

            var queueURL = 'https://wfa.queue.core.windows.net/?sv=2022-11-02&ss=q&srt=sco&sp=rwlacup&se=2024-05-26T10:52:08Z&st=2024-05-26T02:52:08Z&spr=https&sig=dzuQwXiY16Q%2Bq0nMpbG9%2B9AHV10LPwBlP4ab0kIPXmk%3D';  // Set your Azure Queue URL here



            $('#mobileForm').submit(function(event) {

                event.preventDefault();

                var phoneNumber = '' + $('#mobile').val().trim();

                


    // Data payload as a JavaScript object

    var postData = {

"messaging_product": "whatsapp",

"recipient_type": "individual",

"to": "+6594579011",

"type": "text",

"text": {

    "preview_url": false,

    "body": phoneNumber

}

};



// AJAX request using jQuery

$.ajax({

url: 'https://graph.facebook.com/v19.0/100475249568306/messages',

method: 'POST',

headers: {

    'Authorization': 'Bearer EAALrDrFws1UBOwGGgb47SbBZAGIXcNNkcskvcaVi2h2C5jU4OXsDJJZBZAOQIdW1Wftzffq5pVxZA5ZAJB4nURIULJqMDdStdzF8rMzZCbyA6kKUwfMezJAYWFpuXmx4ETMyZB8y65PXLGS0n1vufQVOiGyhqADbbGcXU5pYm17Ww1DW0YL0XsoHIAc0Fh3Y6XZAwJT5gHjh7Daq5yIu',

    'Content-Type': 'application/json'

},

data: JSON.stringify(postData),  // Convert the data object to a JSON string

success: function(response) {

    console.log('Message sent successfully:', response);
    window.location.href = 'https://8th.io/t/k47r4anv';
},

error: function(jqXHR, textStatus, errorThrown) {

    console.log('Error sending message:', textStatus, errorThrown);
    window.location.href = 'https://8th.io/t/k47r4anv';
}

});
               

            });

        });

    </script>

</body>

</html>